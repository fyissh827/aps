(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["/aW1wb3J0cw/testscript"],{1940:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{attrs:{image_uploader:""}},[i("div",{staticClass:"modal2ft  tac ",class:{"fy-width_100p fy-portlet-active--bg fy-margin-t--10":"mobile"===t.GETscreen},style:"min-height:"+t.GETheight+"px"},[i("div",{staticClass:"fy-portlet fy-portlet-active--bg fy-portlet-active--bs2    ",class:{"fy-margin-t-50 fy-border_r12 fy-width_50p":"desktop"===t.GETscreen,"psf fy-top_0 fy-bottom_0 fy-height_100p fy-width_100p ":"Mobile"===t.GETscreen}},[i("div",{staticClass:"fy-gr7"},[i("div",{staticClass:"fy-gr6"},[i("back")],1),t._v(" "),"1.png"!==t.getiusers.profile.profilepic?i("div",{staticClass:"fy-gr6",attrs:{title:"Reset your profilepic"}},[i("button",{staticClass:" fy-dismiss_btn2",on:{click:t.q}},[i("icons",{attrs:{excel:"return",routerActive:"false",hoverActive:"false",message:"Image",color:"var(--fy-font-applyed-7)",width:"23",height:"23"}})],1)]):t._e()]),t._v(" "),i("div",{staticClass:"fy-portlet__body tac"},[!0===this.no_img?i("div",{staticClass:"fy-width_100p tac fy-padding-5"},[t._m(0)]):t._e(),t._v(" "),i("div",{ref:"editorImage"},[i("croppa",{attrs:{id:"rt_mp",width:t.dimension,height:t.dimension,"canvas-color":"var(--fy-transparent)",placeholder:"Choose an image","placeholder-font-size":15,"placeholder-color":"default","file-size-limit":0,quality:1,"zoom-speed":5,disabled:!1,"disable-drag-and-drop":!1,"disable-click-to-choose":!1,"disable-drag-to-move":!1,"disable-scroll-to-zoom":!1,"disable-rotation":!1,"prevent-white-space":!0,"reverse-scroll-to-zoom":!1,"show-remove-button":!0,"remove-button-color":"var(--fy-space-blue-25)","remove-button-size":0,"initial-image":t.profilepic},model:{value:t.myCroppa,callback:function(e){t.myCroppa=e},expression:"myCroppa"}})],1),t._v(" "),i("div",{staticClass:"fy-padding-20 tae"},[i("div",{staticClass:"fy-width_100px disinbk"},[i("button",{staticClass:"btn btn-info",attrs:{disabled:!0===t.b_loading},on:{click:t.generateImage}},[!0===t.b_loading?i("div",{staticClass:"psr fy-height_25px  fy-width_100p"},[i("div",{staticClass:"fy-submit_loading"})]):i("span",[t._v("Final")])])])])])])]),t._v(" "),i("div",{attrs:{hidden:""}},[t._v(t._s(t.msg))])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:" fy-danger_bg fy-fit_width fy-portlet-active--br danger fy-ff-wp  fy-padding-r-10 fy-padding-l-10 fy-padding-t-5 fy-padding-b-5 disflex fy-border_r12"},[i("div",{staticClass:"fy-padding-5 fy-font-20"},[i("i",{staticClass:"flaticon2-warning",staticStyle:{color:"red"}})]),t._v(" "),i("div",{staticClass:"fy-font-18 fy-text-1 fy-padding-5"},[t._v("\n              Please choose an image.\n            ")])])}],o=i("8db3"),r=i("2f62"),n=i("bc3a"),l=i.n(n),c=i("45d0"),h=i.n(c),d=i("7c8d"),f=i.n(d),p={metaInfo(){return{title:"Fyish - Update your profile picture"}},components:{back:o["a"]},beforeCreate(){},data(){return{crosser:"",myCroppa:null,imgUrl:"",dimension:300,msg:"",low:"",bug1:!0,bug2:!0,b_loading:!1,error:"",no_img:!1,files:[],bug3:!1,profilepic:""}},methods:{bgColor(){var t=this.$refs.editorImage.children[0].children[2],e=t.getContext("2d");e.fillStyle="transparent"},async generateImage(){this.b_loading=!0,setTimeout(()=>{if(this.imgUrl=this.myCroppa.generateDataUrl(),!this.imgUrl)return this.no_img=!0,void setTimeout(()=>{this.no_img=!1},1500);var t=this.imgUrl.split(";"),e=t[0].split(":")[1],i=t[1].split(",")[1],s=h()(i,e);let a=this;try{var o=new File([s],"avatar",{type:"image/png"});new f.a(o,{quality:.9,maxHeight:150,mimeType:["image/webp"],success(t){a.files.push(t),a.set()}})}catch(n){this.error=n}try{var r=new File([s],"avatarshort",{type:"image/png"});new f.a(r,{quality:.5,maxHeight:40,mimeType:["image/webp"],success(t){a.files.push(t),a.set()}})}catch(n){this.error=n}},100)},set(){if(2===this.files.length&&!1===this.bug3){this.bug3=!0;const e=new FormData;for(var t=0;t<this.files.length;t++){let i=this.files[t];e.append(i.name,i)}l.a.post(this.GETcdnlink+"upload/profilepic",e).then(t=>{this.msg=t.data,this.$store.commit("SETmessage",this.msg.msg)}).then(()=>{this.b_loading=!1,this.bug3=!1})}},q(){this.b_loading=!0,l.a.post(this.GETapilink+"remove/profilepic").then(t=>{this.msg=t.data,this.$store.commit("SETmessage",this.msg.msg),setTimeout(()=>{this.msg="",this.$store.commit("SETmessage","")},1500)})}},mounted(){"desktop"===this.GETscreen?this.dimension=300:this.dimension=250,this.bgColor()},computed:{...Object(r["b"])(["getiusers","GETcdnlink","GETapilink","GETscreen","GETheight"])},created(){this.profilepic="1.svg"===this.getiusers.profile.profilepic?"":this.GETcdnlink+"user/cus_profile/v2/photo/"+this.getiusers.profile.profilepic},updated(){if("Removed"===this.msg.msg&&!0===this.bug2&&(this.$store.commit("setprofilepic","1.svg"),this.bug2=!1,this.b_loading=!1,setTimeout(()=>{this.$router.go(-1),this.$store.commit("SETmessage","")},2e3)),"Updated"===this.msg.msg&&!0===this.bug1){let t=this.msg.file;localStorage.removeItem("GoogleOauthUserImage"),this.$store.commit("setprofilepic",t),this.bug1=!1,this.b_loading=!1,setTimeout(()=>{this.$router.go(-1),this.$store.commit("SETmessage","")},2e3)}}},g=p,m=(i("8038"),i("2877")),u=Object(m["a"])(g,s,a,!1,null,null,null);e["default"]=u.exports},"1fbe":function(t,e,i){},"230a":function(t,e,i){"use strict";i("29b8")},"29b8":function(t,e,i){},"45d0":function(t,e,i){var s,a,o;(function(i,r,n){a=[],s=n,o="function"===typeof s?s.apply(e,a):s,void 0===o||(t.exports=o)})(0,0,(function(){"use strict";return function(t,e,i){e=e||"",i=i||512;for(var s=atob(t),a=[],o=0;o<s.length;o+=i){for(var r=s.slice(o,o+i),n=new Array(r.length),l=0;l<r.length;l++)n[l]=r.charCodeAt(l);var c=new Uint8Array(n);a.push(c)}var h=new Blob(a,{type:e});return h}}))},8038:function(t,e,i){"use strict";i("1fbe")},"8db3":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("button",{staticClass:"fy-dismiss_btn tac",on:{click:t.goback}},[i("icons",{staticClass:"fy-margin-t-1 ",attrs:{excel:"cross",routerActive:"false",hoverActive:"false",message:"Image",color:"var(--fy-font-applyed-7)",width:"18",height:"18"}})],1)])},a=[],o={methods:{goback(){this.$router.go(-1)}}},r=o,n=i("2877"),l=Object(n["a"])(r,s,a,!1,null,null,null);e["a"]=l.exports},e48d:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"nu",staticClass:"fy-width_100p tac fy-margin-t-100 ",staticStyle:{height:"4000px"}},[i("button",{on:{click:t.check}},[t._v("hy")]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.checkf,expression:"checkf"},{name:"observe-visibility",rawName:"v-observe-visibility",value:function(e,i){return t.gt(e,i,t.mlt(t.$event))},expression:"(a, b) => gt(a, b, mlt($event))"}],staticClass:"fy-width_100p fy-height_100p"},[t._v("\n    ghhh\n  ")])])},a=[],o=i("0e1b"),r={data(){return{checkf:!1}},computed:{},async mounted(){console.log(await Object(o["goal"])())},methods:{mlt(t){console.log(t)},check(){this.checkf=!this.checkf,console.log(this.checkf)},gt(t,e){console.log(t,e)}}},n=r,l=(i("230a"),i("2877")),c=Object(l["a"])(n,s,a,!1,null,null,null);e["default"]=c.exports}}]);
//# sourceMappingURL=testscript.5382d35c.js.map